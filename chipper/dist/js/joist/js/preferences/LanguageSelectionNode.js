// Copyright 2022-2023, University of Colorado Boulder

/**
 * Class for items of a LocalePanel. Locales shown in their localized name wrapped in a Rectangle for highlighting
 * and input listeners.
 *
 * @author Jesse Greenberg (PhET Interactive Simulations)
 */

import joist from '../joist.js';
import { Color, FireListener, HighlightOverlay, Rectangle, Text } from '../../../scenery/js/imports.js';
import Tandem from '../../../tandem/js/Tandem.js';
import PreferencesDialog from './PreferencesDialog.js';
import PhetColorScheme from '../../../scenery-phet/js/PhetColorScheme.js';
import StringUtils from '../../../phetcommon/js/util/StringUtils.js';
import pushButtonSoundPlayer from '../../../tambo/js/shared-sound-players/pushButtonSoundPlayer.js';
import JoistStrings from '../JoistStrings.js';
import localeInfoModule from '../../../chipper/js/data/localeInfoModule.js';
export default class LanguageSelectionNode extends Rectangle {
  // locale associated with this Node

  constructor(localeProperty, locale) {
    // Wrap it with embedding marks to ensure it displays correctly, see https://github.com/phetsims/chipper/issues/1379
    const wrappedLocaleString = StringUtils.localeToLocalizedName(locale);

    // Include the locale code when running with ?dev.
    const string = phet.chipper.queryParameters.dev ? StringUtils.wrapLTR(`${wrappedLocaleString} (${locale})`) : wrappedLocaleString;

    // The english name of the locale is reported for accessibility because PDOM strings are not translatable.
    // If you use the localized name, it might change the screen reader voice.
    const localeInfo = localeInfoModule[locale];
    assert && assert(localeInfo, `No localeInfo for ${locale}`);
    const englishLocaleString = localeInfo.name;
    const text = new Text(string, {
      font: PreferencesDialog.CONTENT_FONT
    });
    super(text.bounds.dilated(5), {
      cursor: 'pointer',
      // pdom
      tagName: 'button',
      innerContent: englishLocaleString
    });
    text.center = this.center;
    this.addChild(text);
    this.locale = locale;
    const fireListener = new FireListener({
      fire: () => {
        localeProperty.value = locale;
        pushButtonSoundPlayer.play();
        this.alertDescriptionUtterance(StringUtils.fillIn(JoistStrings.a11y.preferences.tabs.localization.languageSelection.languageChangeResponsePatternStringProperty, {
          language: englishLocaleString
        }));
      },
      // Preferences components are not instrumented, see https://github.com/phetsims/joist/issues/744
      tandem: Tandem.OPT_OUT
    });
    this.addInputListener(fireListener);
    fireListener.isOverProperty.link(isOver => {
      // makes the mouse interactive, keep the same dimensions so the layout will not change
      this.stroke = isOver ? HighlightOverlay.getInnerGroupHighlightColor() : Color.TRANSPARENT;
    });
    const localeListener = selectedLocale => {
      // identifies the selected locale
      this.fill = selectedLocale === locale ? PhetColorScheme.PHET_LOGO_BLUE : null;
    };
    localeProperty.link(localeListener);
  }
}
joist.register('LanguageSelectionNode', LanguageSelectionNode);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJqb2lzdCIsIkNvbG9yIiwiRmlyZUxpc3RlbmVyIiwiSGlnaGxpZ2h0T3ZlcmxheSIsIlJlY3RhbmdsZSIsIlRleHQiLCJUYW5kZW0iLCJQcmVmZXJlbmNlc0RpYWxvZyIsIlBoZXRDb2xvclNjaGVtZSIsIlN0cmluZ1V0aWxzIiwicHVzaEJ1dHRvblNvdW5kUGxheWVyIiwiSm9pc3RTdHJpbmdzIiwibG9jYWxlSW5mb01vZHVsZSIsIkxhbmd1YWdlU2VsZWN0aW9uTm9kZSIsImNvbnN0cnVjdG9yIiwibG9jYWxlUHJvcGVydHkiLCJsb2NhbGUiLCJ3cmFwcGVkTG9jYWxlU3RyaW5nIiwibG9jYWxlVG9Mb2NhbGl6ZWROYW1lIiwic3RyaW5nIiwicGhldCIsImNoaXBwZXIiLCJxdWVyeVBhcmFtZXRlcnMiLCJkZXYiLCJ3cmFwTFRSIiwibG9jYWxlSW5mbyIsImFzc2VydCIsImVuZ2xpc2hMb2NhbGVTdHJpbmciLCJuYW1lIiwidGV4dCIsImZvbnQiLCJDT05URU5UX0ZPTlQiLCJib3VuZHMiLCJkaWxhdGVkIiwiY3Vyc29yIiwidGFnTmFtZSIsImlubmVyQ29udGVudCIsImNlbnRlciIsImFkZENoaWxkIiwiZmlyZUxpc3RlbmVyIiwiZmlyZSIsInZhbHVlIiwicGxheSIsImFsZXJ0RGVzY3JpcHRpb25VdHRlcmFuY2UiLCJmaWxsSW4iLCJhMTF5IiwicHJlZmVyZW5jZXMiLCJ0YWJzIiwibG9jYWxpemF0aW9uIiwibGFuZ3VhZ2VTZWxlY3Rpb24iLCJsYW5ndWFnZUNoYW5nZVJlc3BvbnNlUGF0dGVyblN0cmluZ1Byb3BlcnR5IiwibGFuZ3VhZ2UiLCJ0YW5kZW0iLCJPUFRfT1VUIiwiYWRkSW5wdXRMaXN0ZW5lciIsImlzT3ZlclByb3BlcnR5IiwibGluayIsImlzT3ZlciIsInN0cm9rZSIsImdldElubmVyR3JvdXBIaWdobGlnaHRDb2xvciIsIlRSQU5TUEFSRU5UIiwibG9jYWxlTGlzdGVuZXIiLCJzZWxlY3RlZExvY2FsZSIsImZpbGwiLCJQSEVUX0xPR09fQkxVRSIsInJlZ2lzdGVyIl0sInNvdXJjZXMiOlsiTGFuZ3VhZ2VTZWxlY3Rpb25Ob2RlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLTIwMjMsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIENsYXNzIGZvciBpdGVtcyBvZiBhIExvY2FsZVBhbmVsLiBMb2NhbGVzIHNob3duIGluIHRoZWlyIGxvY2FsaXplZCBuYW1lIHdyYXBwZWQgaW4gYSBSZWN0YW5nbGUgZm9yIGhpZ2hsaWdodGluZ1xyXG4gKiBhbmQgaW5wdXQgbGlzdGVuZXJzLlxyXG4gKlxyXG4gKiBAYXV0aG9yIEplc3NlIEdyZWVuYmVyZyAoUGhFVCBJbnRlcmFjdGl2ZSBTaW11bGF0aW9ucylcclxuICovXHJcblxyXG5pbXBvcnQgam9pc3QgZnJvbSAnLi4vam9pc3QuanMnO1xyXG5pbXBvcnQgeyBDb2xvciwgRmlyZUxpc3RlbmVyLCBIaWdobGlnaHRPdmVybGF5LCBSZWN0YW5nbGUsIFRleHQgfSBmcm9tICcuLi8uLi8uLi9zY2VuZXJ5L2pzL2ltcG9ydHMuanMnO1xyXG5pbXBvcnQgVGFuZGVtIGZyb20gJy4uLy4uLy4uL3RhbmRlbS9qcy9UYW5kZW0uanMnO1xyXG5pbXBvcnQgUHJlZmVyZW5jZXNEaWFsb2cgZnJvbSAnLi9QcmVmZXJlbmNlc0RpYWxvZy5qcyc7XHJcbmltcG9ydCBQaGV0Q29sb3JTY2hlbWUgZnJvbSAnLi4vLi4vLi4vc2NlbmVyeS1waGV0L2pzL1BoZXRDb2xvclNjaGVtZS5qcyc7XHJcbmltcG9ydCBQcm9wZXJ0eSBmcm9tICcuLi8uLi8uLi9heG9uL2pzL1Byb3BlcnR5LmpzJztcclxuaW1wb3J0IHsgTG9jYWxlIH0gZnJvbSAnLi4vaTE4bi9sb2NhbGVQcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi8uLi9waGV0Y29tbW9uL2pzL3V0aWwvU3RyaW5nVXRpbHMuanMnO1xyXG5pbXBvcnQgcHVzaEJ1dHRvblNvdW5kUGxheWVyIGZyb20gJy4uLy4uLy4uL3RhbWJvL2pzL3NoYXJlZC1zb3VuZC1wbGF5ZXJzL3B1c2hCdXR0b25Tb3VuZFBsYXllci5qcyc7XHJcbmltcG9ydCBKb2lzdFN0cmluZ3MgZnJvbSAnLi4vSm9pc3RTdHJpbmdzLmpzJztcclxuaW1wb3J0IGxvY2FsZUluZm9Nb2R1bGUgZnJvbSAnLi4vLi4vLi4vY2hpcHBlci9qcy9kYXRhL2xvY2FsZUluZm9Nb2R1bGUuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFuZ3VhZ2VTZWxlY3Rpb25Ob2RlIGV4dGVuZHMgUmVjdGFuZ2xlIHtcclxuXHJcbiAgcHVibGljIHJlYWRvbmx5IGxvY2FsZTogTG9jYWxlOyAvLyBsb2NhbGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgTm9kZVxyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoIGxvY2FsZVByb3BlcnR5OiBQcm9wZXJ0eTxMb2NhbGU+LCBsb2NhbGU6IExvY2FsZSApIHtcclxuXHJcbiAgICAvLyBXcmFwIGl0IHdpdGggZW1iZWRkaW5nIG1hcmtzIHRvIGVuc3VyZSBpdCBkaXNwbGF5cyBjb3JyZWN0bHksIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvY2hpcHBlci9pc3N1ZXMvMTM3OVxyXG4gICAgY29uc3Qgd3JhcHBlZExvY2FsZVN0cmluZyA9IFN0cmluZ1V0aWxzLmxvY2FsZVRvTG9jYWxpemVkTmFtZSggbG9jYWxlICk7XHJcblxyXG4gICAgLy8gSW5jbHVkZSB0aGUgbG9jYWxlIGNvZGUgd2hlbiBydW5uaW5nIHdpdGggP2Rldi5cclxuICAgIGNvbnN0IHN0cmluZyA9IHBoZXQuY2hpcHBlci5xdWVyeVBhcmFtZXRlcnMuZGV2ID9cclxuICAgICAgICAgICAgICAgICAgIFN0cmluZ1V0aWxzLndyYXBMVFIoIGAke3dyYXBwZWRMb2NhbGVTdHJpbmd9ICgke2xvY2FsZX0pYCApIDpcclxuICAgICAgICAgICAgICAgICAgIHdyYXBwZWRMb2NhbGVTdHJpbmc7XHJcblxyXG4gICAgLy8gVGhlIGVuZ2xpc2ggbmFtZSBvZiB0aGUgbG9jYWxlIGlzIHJlcG9ydGVkIGZvciBhY2Nlc3NpYmlsaXR5IGJlY2F1c2UgUERPTSBzdHJpbmdzIGFyZSBub3QgdHJhbnNsYXRhYmxlLlxyXG4gICAgLy8gSWYgeW91IHVzZSB0aGUgbG9jYWxpemVkIG5hbWUsIGl0IG1pZ2h0IGNoYW5nZSB0aGUgc2NyZWVuIHJlYWRlciB2b2ljZS5cclxuICAgIGNvbnN0IGxvY2FsZUluZm8gPSBsb2NhbGVJbmZvTW9kdWxlWyBsb2NhbGUgXTtcclxuICAgIGFzc2VydCAmJiBhc3NlcnQoIGxvY2FsZUluZm8sIGBObyBsb2NhbGVJbmZvIGZvciAke2xvY2FsZX1gICk7XHJcbiAgICBjb25zdCBlbmdsaXNoTG9jYWxlU3RyaW5nID0gbG9jYWxlSW5mby5uYW1lO1xyXG5cclxuICAgIGNvbnN0IHRleHQgPSBuZXcgVGV4dCggc3RyaW5nLCB7XHJcbiAgICAgIGZvbnQ6IFByZWZlcmVuY2VzRGlhbG9nLkNPTlRFTlRfRk9OVFxyXG4gICAgfSApO1xyXG5cclxuICAgIHN1cGVyKCB0ZXh0LmJvdW5kcy5kaWxhdGVkKCA1ICksIHtcclxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcblxyXG4gICAgICAvLyBwZG9tXHJcbiAgICAgIHRhZ05hbWU6ICdidXR0b24nLFxyXG4gICAgICBpbm5lckNvbnRlbnQ6IGVuZ2xpc2hMb2NhbGVTdHJpbmdcclxuICAgIH0gKTtcclxuICAgIHRleHQuY2VudGVyID0gdGhpcy5jZW50ZXI7XHJcbiAgICB0aGlzLmFkZENoaWxkKCB0ZXh0ICk7XHJcblxyXG4gICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XHJcblxyXG4gICAgY29uc3QgZmlyZUxpc3RlbmVyID0gbmV3IEZpcmVMaXN0ZW5lcigge1xyXG4gICAgICBmaXJlOiAoKSA9PiB7XHJcbiAgICAgICAgbG9jYWxlUHJvcGVydHkudmFsdWUgPSBsb2NhbGU7XHJcblxyXG4gICAgICAgIHB1c2hCdXR0b25Tb3VuZFBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5hbGVydERlc2NyaXB0aW9uVXR0ZXJhbmNlKCBTdHJpbmdVdGlscy5maWxsSW4oXHJcbiAgICAgICAgICBKb2lzdFN0cmluZ3MuYTExeS5wcmVmZXJlbmNlcy50YWJzLmxvY2FsaXphdGlvbi5sYW5ndWFnZVNlbGVjdGlvbi5sYW5ndWFnZUNoYW5nZVJlc3BvbnNlUGF0dGVyblN0cmluZ1Byb3BlcnR5LCB7XHJcbiAgICAgICAgICAgIGxhbmd1YWdlOiBlbmdsaXNoTG9jYWxlU3RyaW5nXHJcbiAgICAgICAgICB9IClcclxuICAgICAgICApO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gUHJlZmVyZW5jZXMgY29tcG9uZW50cyBhcmUgbm90IGluc3RydW1lbnRlZCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waGV0c2ltcy9qb2lzdC9pc3N1ZXMvNzQ0XHJcbiAgICAgIHRhbmRlbTogVGFuZGVtLk9QVF9PVVRcclxuICAgIH0gKTtcclxuICAgIHRoaXMuYWRkSW5wdXRMaXN0ZW5lciggZmlyZUxpc3RlbmVyICk7XHJcblxyXG4gICAgZmlyZUxpc3RlbmVyLmlzT3ZlclByb3BlcnR5LmxpbmsoIGlzT3ZlciA9PiB7XHJcblxyXG4gICAgICAvLyBtYWtlcyB0aGUgbW91c2UgaW50ZXJhY3RpdmUsIGtlZXAgdGhlIHNhbWUgZGltZW5zaW9ucyBzbyB0aGUgbGF5b3V0IHdpbGwgbm90IGNoYW5nZVxyXG4gICAgICB0aGlzLnN0cm9rZSA9IGlzT3ZlciA/IEhpZ2hsaWdodE92ZXJsYXkuZ2V0SW5uZXJHcm91cEhpZ2hsaWdodENvbG9yKCkgOiBDb2xvci5UUkFOU1BBUkVOVDtcclxuICAgIH0gKTtcclxuXHJcbiAgICBjb25zdCBsb2NhbGVMaXN0ZW5lciA9ICggc2VsZWN0ZWRMb2NhbGU6IHN0cmluZyApID0+IHtcclxuXHJcbiAgICAgIC8vIGlkZW50aWZpZXMgdGhlIHNlbGVjdGVkIGxvY2FsZVxyXG4gICAgICB0aGlzLmZpbGwgPSBzZWxlY3RlZExvY2FsZSA9PT0gbG9jYWxlID8gUGhldENvbG9yU2NoZW1lLlBIRVRfTE9HT19CTFVFIDogbnVsbDtcclxuICAgIH07XHJcbiAgICBsb2NhbGVQcm9wZXJ0eS5saW5rKCBsb2NhbGVMaXN0ZW5lciApO1xyXG4gIH1cclxufVxyXG5cclxuam9pc3QucmVnaXN0ZXIoICdMYW5ndWFnZVNlbGVjdGlvbk5vZGUnLCBMYW5ndWFnZVNlbGVjdGlvbk5vZGUgKTsiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPQSxLQUFLLE1BQU0sYUFBYTtBQUMvQixTQUFTQyxLQUFLLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUVDLFNBQVMsRUFBRUMsSUFBSSxRQUFRLGdDQUFnQztBQUN2RyxPQUFPQyxNQUFNLE1BQU0sOEJBQThCO0FBQ2pELE9BQU9DLGlCQUFpQixNQUFNLHdCQUF3QjtBQUN0RCxPQUFPQyxlQUFlLE1BQU0sNkNBQTZDO0FBR3pFLE9BQU9DLFdBQVcsTUFBTSw0Q0FBNEM7QUFDcEUsT0FBT0MscUJBQXFCLE1BQU0saUVBQWlFO0FBQ25HLE9BQU9DLFlBQVksTUFBTSxvQkFBb0I7QUFDN0MsT0FBT0MsZ0JBQWdCLE1BQU0sOENBQThDO0FBRTNFLGVBQWUsTUFBTUMscUJBQXFCLFNBQVNULFNBQVMsQ0FBQztFQUUzQjs7RUFFekJVLFdBQVdBLENBQUVDLGNBQWdDLEVBQUVDLE1BQWMsRUFBRztJQUVyRTtJQUNBLE1BQU1DLG1CQUFtQixHQUFHUixXQUFXLENBQUNTLHFCQUFxQixDQUFFRixNQUFPLENBQUM7O0lBRXZFO0lBQ0EsTUFBTUcsTUFBTSxHQUFHQyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDQyxHQUFHLEdBQ2hDZCxXQUFXLENBQUNlLE9BQU8sQ0FBRyxHQUFFUCxtQkFBb0IsS0FBSUQsTUFBTyxHQUFHLENBQUMsR0FDM0RDLG1CQUFtQjs7SUFFbEM7SUFDQTtJQUNBLE1BQU1RLFVBQVUsR0FBR2IsZ0JBQWdCLENBQUVJLE1BQU0sQ0FBRTtJQUM3Q1UsTUFBTSxJQUFJQSxNQUFNLENBQUVELFVBQVUsRUFBRyxxQkFBb0JULE1BQU8sRUFBRSxDQUFDO0lBQzdELE1BQU1XLG1CQUFtQixHQUFHRixVQUFVLENBQUNHLElBQUk7SUFFM0MsTUFBTUMsSUFBSSxHQUFHLElBQUl4QixJQUFJLENBQUVjLE1BQU0sRUFBRTtNQUM3QlcsSUFBSSxFQUFFdkIsaUJBQWlCLENBQUN3QjtJQUMxQixDQUFFLENBQUM7SUFFSCxLQUFLLENBQUVGLElBQUksQ0FBQ0csTUFBTSxDQUFDQyxPQUFPLENBQUUsQ0FBRSxDQUFDLEVBQUU7TUFDL0JDLE1BQU0sRUFBRSxTQUFTO01BRWpCO01BQ0FDLE9BQU8sRUFBRSxRQUFRO01BQ2pCQyxZQUFZLEVBQUVUO0lBQ2hCLENBQUUsQ0FBQztJQUNIRSxJQUFJLENBQUNRLE1BQU0sR0FBRyxJQUFJLENBQUNBLE1BQU07SUFDekIsSUFBSSxDQUFDQyxRQUFRLENBQUVULElBQUssQ0FBQztJQUVyQixJQUFJLENBQUNiLE1BQU0sR0FBR0EsTUFBTTtJQUVwQixNQUFNdUIsWUFBWSxHQUFHLElBQUlyQyxZQUFZLENBQUU7TUFDckNzQyxJQUFJLEVBQUVBLENBQUEsS0FBTTtRQUNWekIsY0FBYyxDQUFDMEIsS0FBSyxHQUFHekIsTUFBTTtRQUU3Qk4scUJBQXFCLENBQUNnQyxJQUFJLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUNDLHlCQUF5QixDQUFFbEMsV0FBVyxDQUFDbUMsTUFBTSxDQUNoRGpDLFlBQVksQ0FBQ2tDLElBQUksQ0FBQ0MsV0FBVyxDQUFDQyxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsaUJBQWlCLENBQUNDLDJDQUEyQyxFQUFFO1VBQzdHQyxRQUFRLEVBQUV4QjtRQUNaLENBQUUsQ0FDSixDQUFDO01BQ0gsQ0FBQztNQUVEO01BQ0F5QixNQUFNLEVBQUU5QyxNQUFNLENBQUMrQztJQUNqQixDQUFFLENBQUM7SUFDSCxJQUFJLENBQUNDLGdCQUFnQixDQUFFZixZQUFhLENBQUM7SUFFckNBLFlBQVksQ0FBQ2dCLGNBQWMsQ0FBQ0MsSUFBSSxDQUFFQyxNQUFNLElBQUk7TUFFMUM7TUFDQSxJQUFJLENBQUNDLE1BQU0sR0FBR0QsTUFBTSxHQUFHdEQsZ0JBQWdCLENBQUN3RCwyQkFBMkIsQ0FBQyxDQUFDLEdBQUcxRCxLQUFLLENBQUMyRCxXQUFXO0lBQzNGLENBQUUsQ0FBQztJQUVILE1BQU1DLGNBQWMsR0FBS0MsY0FBc0IsSUFBTTtNQUVuRDtNQUNBLElBQUksQ0FBQ0MsSUFBSSxHQUFHRCxjQUFjLEtBQUs5QyxNQUFNLEdBQUdSLGVBQWUsQ0FBQ3dELGNBQWMsR0FBRyxJQUFJO0lBQy9FLENBQUM7SUFDRGpELGNBQWMsQ0FBQ3lDLElBQUksQ0FBRUssY0FBZSxDQUFDO0VBQ3ZDO0FBQ0Y7QUFFQTdELEtBQUssQ0FBQ2lFLFFBQVEsQ0FBRSx1QkFBdUIsRUFBRXBELHFCQUFzQixDQUFDIiwiaWdub3JlTGlzdCI6W119