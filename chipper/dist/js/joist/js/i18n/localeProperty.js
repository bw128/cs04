// Copyright 2022-2024, University of Colorado Boulder

/**
 * A universal locale Property that is accessible independently of the running Sim instance.
 *
 * @author Jonathan Olson <jonathan.olson@colorado.edu>
 */

import Property from '../../../axon/js/Property.js';
import StringUtils from '../../../phetcommon/js/util/StringUtils.js';
import { globalKeyStateTracker, KeyboardUtils } from '../../../scenery/js/imports.js';
import Tandem from '../../../tandem/js/Tandem.js';
import StringIO from '../../../tandem/js/types/StringIO.js';
import joist from '../joist.js';
const FALLBACK_LOCALE = 'en';
// All available locales for the runtime
export const availableRuntimeLocales = _.sortBy(Object.keys(phet.chipper.strings), locale => {
  return StringUtils.localeToLocalizedName(locale).toLowerCase();
});

// Start only with a valid locale, see https://github.com/phetsims/phet-io/issues/1882
const isLocaleValid = locale => {
  return !!(locale && availableRuntimeLocales.includes(locale));
};

// We might use a partial locale (e.g. 'en' instead of 'en_US'), so grab this if it exists. It might be the same as
// phet.chipper.locale (that's OK).
const partialLocale = typeof phet.chipper.locale === 'string' ? phet.chipper.locale.slice(0, 2) : undefined;

// Get the "most" valid locale, see https://github.com/phetsims/phet-io/issues/1882
// 'ar_SA' would try 'ar_SA', 'ar', and 'en' (result: ar_SA)
// 'ar_QP' would try 'ar_QP', 'ar', and 'en' (result: ar)
// 'zx_ZX' would try 'zx_ZX', 'zx', and 'en' (result: en)
// NOTE: If the locale doesn't actually have any strings: THAT IS OK! Our string system will use the appropriate
// fallback strings.
const validInitialLocale = isLocaleValid(phet.chipper.locale) ? phet.chipper.locale : isLocaleValid(partialLocale) ? partialLocale : FALLBACK_LOCALE;

// Just in case we had an invalid locale, remap phet.chipper.locale to the "corrected" value
phet.chipper.locale = validInitialLocale;
class LocaleProperty extends Property {
  unguardedSet(value) {
    if (availableRuntimeLocales.includes(value)) {
      super.unguardedSet(value);
    } else {
      assert && assert(false, 'Unsupported locale: ' + value);

      // Do not try to set if the value was invalid
    }
  }
}
const localeProperty = new LocaleProperty(validInitialLocale, {
  tandem: Tandem.GENERAL_MODEL.createTandem('localeProperty'),
  phetioFeatured: true,
  phetioValueType: StringIO,
  validValues: availableRuntimeLocales,
  phetioDocumentation: 'Specifies language currently displayed in the simulation'
});
if (phet?.chipper?.queryParameters?.keyboardLocaleSwitcher) {
  // DUPLICATION ALERT: don't change these without consulting PHET_IO_WRAPPERS/PhetioClient.initializeKeyboardLocaleSwitcher()
  const FORWARD_KEY = KeyboardUtils.KEY_I;
  const BACKWARD_KEY = KeyboardUtils.KEY_U;
  globalKeyStateTracker.keydownEmitter.addListener(event => {
    const bump = delta => {
      // Ctrl + u in Chrome on Windows is "view source" in a new tab
      event.preventDefault();
      const index = availableRuntimeLocales.indexOf(localeProperty.value);
      const nextIndex = (index + delta + availableRuntimeLocales.length) % availableRuntimeLocales.length;
      localeProperty.value = availableRuntimeLocales[nextIndex];

      // Indicate the new locale on the console
      console.log(localeProperty.value);
    };
    if (event.ctrlKey && !event.shiftKey && !event.metaKey && !event.altKey) {
      if (KeyboardUtils.isKeyEvent(event, FORWARD_KEY)) {
        bump(+1);
      } else if (KeyboardUtils.isKeyEvent(event, BACKWARD_KEY)) {
        bump(-1);
      }
    }
  });
}
joist.register('localeProperty', localeProperty);
export default localeProperty;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQcm9wZXJ0eSIsIlN0cmluZ1V0aWxzIiwiZ2xvYmFsS2V5U3RhdGVUcmFja2VyIiwiS2V5Ym9hcmRVdGlscyIsIlRhbmRlbSIsIlN0cmluZ0lPIiwiam9pc3QiLCJGQUxMQkFDS19MT0NBTEUiLCJhdmFpbGFibGVSdW50aW1lTG9jYWxlcyIsIl8iLCJzb3J0QnkiLCJPYmplY3QiLCJrZXlzIiwicGhldCIsImNoaXBwZXIiLCJzdHJpbmdzIiwibG9jYWxlIiwibG9jYWxlVG9Mb2NhbGl6ZWROYW1lIiwidG9Mb3dlckNhc2UiLCJpc0xvY2FsZVZhbGlkIiwiaW5jbHVkZXMiLCJwYXJ0aWFsTG9jYWxlIiwic2xpY2UiLCJ1bmRlZmluZWQiLCJ2YWxpZEluaXRpYWxMb2NhbGUiLCJMb2NhbGVQcm9wZXJ0eSIsInVuZ3VhcmRlZFNldCIsInZhbHVlIiwiYXNzZXJ0IiwibG9jYWxlUHJvcGVydHkiLCJ0YW5kZW0iLCJHRU5FUkFMX01PREVMIiwiY3JlYXRlVGFuZGVtIiwicGhldGlvRmVhdHVyZWQiLCJwaGV0aW9WYWx1ZVR5cGUiLCJ2YWxpZFZhbHVlcyIsInBoZXRpb0RvY3VtZW50YXRpb24iLCJxdWVyeVBhcmFtZXRlcnMiLCJrZXlib2FyZExvY2FsZVN3aXRjaGVyIiwiRk9SV0FSRF9LRVkiLCJLRVlfSSIsIkJBQ0tXQVJEX0tFWSIsIktFWV9VIiwia2V5ZG93bkVtaXR0ZXIiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwiYnVtcCIsImRlbHRhIiwicHJldmVudERlZmF1bHQiLCJpbmRleCIsImluZGV4T2YiLCJuZXh0SW5kZXgiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiY3RybEtleSIsInNoaWZ0S2V5IiwibWV0YUtleSIsImFsdEtleSIsImlzS2V5RXZlbnQiLCJyZWdpc3RlciJdLCJzb3VyY2VzIjpbImxvY2FsZVByb3BlcnR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDIyLTIwMjQsIFVuaXZlcnNpdHkgb2YgQ29sb3JhZG8gQm91bGRlclxyXG5cclxuLyoqXHJcbiAqIEEgdW5pdmVyc2FsIGxvY2FsZSBQcm9wZXJ0eSB0aGF0IGlzIGFjY2Vzc2libGUgaW5kZXBlbmRlbnRseSBvZiB0aGUgcnVubmluZyBTaW0gaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBhdXRob3IgSm9uYXRoYW4gT2xzb24gPGpvbmF0aGFuLm9sc29uQGNvbG9yYWRvLmVkdT5cclxuICovXHJcblxyXG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vYXhvbi9qcy9Qcm9wZXJ0eS5qcyc7XHJcbmltcG9ydCBsb2NhbGVJbmZvTW9kdWxlIGZyb20gJy4uLy4uLy4uL2NoaXBwZXIvanMvZGF0YS9sb2NhbGVJbmZvTW9kdWxlLmpzJztcclxuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uLy4uL3BoZXRjb21tb24vanMvdXRpbC9TdHJpbmdVdGlscy5qcyc7XHJcbmltcG9ydCB7IGdsb2JhbEtleVN0YXRlVHJhY2tlciwgS2V5Ym9hcmRVdGlscyB9IGZyb20gJy4uLy4uLy4uL3NjZW5lcnkvanMvaW1wb3J0cy5qcyc7XHJcbmltcG9ydCBUYW5kZW0gZnJvbSAnLi4vLi4vLi4vdGFuZGVtL2pzL1RhbmRlbS5qcyc7XHJcbmltcG9ydCBTdHJpbmdJTyBmcm9tICcuLi8uLi8uLi90YW5kZW0vanMvdHlwZXMvU3RyaW5nSU8uanMnO1xyXG5pbXBvcnQgam9pc3QgZnJvbSAnLi4vam9pc3QuanMnO1xyXG5cclxuY29uc3QgRkFMTEJBQ0tfTE9DQUxFID0gJ2VuJztcclxuXHJcbmV4cG9ydCB0eXBlIExvY2FsZSA9IGtleW9mIHR5cGVvZiBsb2NhbGVJbmZvTW9kdWxlO1xyXG5cclxuLy8gQWxsIGF2YWlsYWJsZSBsb2NhbGVzIGZvciB0aGUgcnVudGltZVxyXG5leHBvcnQgY29uc3QgYXZhaWxhYmxlUnVudGltZUxvY2FsZXMgPSBfLnNvcnRCeSggT2JqZWN0LmtleXMoIHBoZXQuY2hpcHBlci5zdHJpbmdzICksIGxvY2FsZSA9PiB7XHJcbiAgcmV0dXJuIFN0cmluZ1V0aWxzLmxvY2FsZVRvTG9jYWxpemVkTmFtZSggbG9jYWxlICkudG9Mb3dlckNhc2UoKTtcclxufSApIGFzIExvY2FsZVtdO1xyXG5cclxuLy8gU3RhcnQgb25seSB3aXRoIGEgdmFsaWQgbG9jYWxlLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BoZXRzaW1zL3BoZXQtaW8vaXNzdWVzLzE4ODJcclxuY29uc3QgaXNMb2NhbGVWYWxpZCA9ICggbG9jYWxlPzogTG9jYWxlICk6IGJvb2xlYW4gPT4ge1xyXG4gIHJldHVybiAhISggbG9jYWxlICYmIGF2YWlsYWJsZVJ1bnRpbWVMb2NhbGVzLmluY2x1ZGVzKCBsb2NhbGUgKSApO1xyXG59O1xyXG5cclxuLy8gV2UgbWlnaHQgdXNlIGEgcGFydGlhbCBsb2NhbGUgKGUuZy4gJ2VuJyBpbnN0ZWFkIG9mICdlbl9VUycpLCBzbyBncmFiIHRoaXMgaWYgaXQgZXhpc3RzLiBJdCBtaWdodCBiZSB0aGUgc2FtZSBhc1xyXG4vLyBwaGV0LmNoaXBwZXIubG9jYWxlICh0aGF0J3MgT0spLlxyXG5jb25zdCBwYXJ0aWFsTG9jYWxlID0gdHlwZW9mIHBoZXQuY2hpcHBlci5sb2NhbGUgPT09ICdzdHJpbmcnID8gcGhldC5jaGlwcGVyLmxvY2FsZS5zbGljZSggMCwgMiApIDogdW5kZWZpbmVkO1xyXG5cclxuLy8gR2V0IHRoZSBcIm1vc3RcIiB2YWxpZCBsb2NhbGUsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vcGhldHNpbXMvcGhldC1pby9pc3N1ZXMvMTg4MlxyXG4vLyAnYXJfU0EnIHdvdWxkIHRyeSAnYXJfU0EnLCAnYXInLCBhbmQgJ2VuJyAocmVzdWx0OiBhcl9TQSlcclxuLy8gJ2FyX1FQJyB3b3VsZCB0cnkgJ2FyX1FQJywgJ2FyJywgYW5kICdlbicgKHJlc3VsdDogYXIpXHJcbi8vICd6eF9aWCcgd291bGQgdHJ5ICd6eF9aWCcsICd6eCcsIGFuZCAnZW4nIChyZXN1bHQ6IGVuKVxyXG4vLyBOT1RFOiBJZiB0aGUgbG9jYWxlIGRvZXNuJ3QgYWN0dWFsbHkgaGF2ZSBhbnkgc3RyaW5nczogVEhBVCBJUyBPSyEgT3VyIHN0cmluZyBzeXN0ZW0gd2lsbCB1c2UgdGhlIGFwcHJvcHJpYXRlXHJcbi8vIGZhbGxiYWNrIHN0cmluZ3MuXHJcbmNvbnN0IHZhbGlkSW5pdGlhbExvY2FsZSA9IGlzTG9jYWxlVmFsaWQoIHBoZXQuY2hpcHBlci5sb2NhbGUgKSA/IHBoZXQuY2hpcHBlci5sb2NhbGUgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xvY2FsZVZhbGlkKCBwYXJ0aWFsTG9jYWxlICkgPyBwYXJ0aWFsTG9jYWxlIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgRkFMTEJBQ0tfTE9DQUxFO1xyXG5cclxuLy8gSnVzdCBpbiBjYXNlIHdlIGhhZCBhbiBpbnZhbGlkIGxvY2FsZSwgcmVtYXAgcGhldC5jaGlwcGVyLmxvY2FsZSB0byB0aGUgXCJjb3JyZWN0ZWRcIiB2YWx1ZVxyXG5waGV0LmNoaXBwZXIubG9jYWxlID0gdmFsaWRJbml0aWFsTG9jYWxlO1xyXG5cclxuY2xhc3MgTG9jYWxlUHJvcGVydHkgZXh0ZW5kcyBQcm9wZXJ0eTxMb2NhbGU+IHtcclxuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgdW5ndWFyZGVkU2V0KCB2YWx1ZTogTG9jYWxlICk6IHZvaWQge1xyXG4gICAgaWYgKCBhdmFpbGFibGVSdW50aW1lTG9jYWxlcy5pbmNsdWRlcyggdmFsdWUgKSApIHtcclxuICAgICAgc3VwZXIudW5ndWFyZGVkU2V0KCB2YWx1ZSApO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGFzc2VydCAmJiBhc3NlcnQoIGZhbHNlLCAnVW5zdXBwb3J0ZWQgbG9jYWxlOiAnICsgdmFsdWUgKTtcclxuXHJcbiAgICAgIC8vIERvIG5vdCB0cnkgdG8gc2V0IGlmIHRoZSB2YWx1ZSB3YXMgaW52YWxpZFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbG9jYWxlUHJvcGVydHkgPSBuZXcgTG9jYWxlUHJvcGVydHkoIHZhbGlkSW5pdGlhbExvY2FsZSwge1xyXG4gIHRhbmRlbTogVGFuZGVtLkdFTkVSQUxfTU9ERUwuY3JlYXRlVGFuZGVtKCAnbG9jYWxlUHJvcGVydHknICksXHJcbiAgcGhldGlvRmVhdHVyZWQ6IHRydWUsXHJcbiAgcGhldGlvVmFsdWVUeXBlOiBTdHJpbmdJTyxcclxuICB2YWxpZFZhbHVlczogYXZhaWxhYmxlUnVudGltZUxvY2FsZXMsXHJcbiAgcGhldGlvRG9jdW1lbnRhdGlvbjogJ1NwZWNpZmllcyBsYW5ndWFnZSBjdXJyZW50bHkgZGlzcGxheWVkIGluIHRoZSBzaW11bGF0aW9uJ1xyXG59ICk7XHJcblxyXG5pZiAoIHBoZXQ/LmNoaXBwZXI/LnF1ZXJ5UGFyYW1ldGVycz8ua2V5Ym9hcmRMb2NhbGVTd2l0Y2hlciApIHtcclxuXHJcbiAgLy8gRFVQTElDQVRJT04gQUxFUlQ6IGRvbid0IGNoYW5nZSB0aGVzZSB3aXRob3V0IGNvbnN1bHRpbmcgUEhFVF9JT19XUkFQUEVSUy9QaGV0aW9DbGllbnQuaW5pdGlhbGl6ZUtleWJvYXJkTG9jYWxlU3dpdGNoZXIoKVxyXG4gIGNvbnN0IEZPUldBUkRfS0VZID0gS2V5Ym9hcmRVdGlscy5LRVlfSTtcclxuICBjb25zdCBCQUNLV0FSRF9LRVkgPSBLZXlib2FyZFV0aWxzLktFWV9VO1xyXG5cclxuICBnbG9iYWxLZXlTdGF0ZVRyYWNrZXIua2V5ZG93bkVtaXR0ZXIuYWRkTGlzdGVuZXIoICggZXZlbnQ6IEtleWJvYXJkRXZlbnQgKSA9PiB7XHJcblxyXG4gICAgY29uc3QgYnVtcCA9ICggZGVsdGE6IG51bWJlciApID0+IHtcclxuXHJcbiAgICAgIC8vIEN0cmwgKyB1IGluIENocm9tZSBvbiBXaW5kb3dzIGlzIFwidmlldyBzb3VyY2VcIiBpbiBhIG5ldyB0YWJcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIGNvbnN0IGluZGV4ID0gYXZhaWxhYmxlUnVudGltZUxvY2FsZXMuaW5kZXhPZiggbG9jYWxlUHJvcGVydHkudmFsdWUgKTtcclxuICAgICAgY29uc3QgbmV4dEluZGV4ID0gKCBpbmRleCArIGRlbHRhICsgYXZhaWxhYmxlUnVudGltZUxvY2FsZXMubGVuZ3RoICkgJSBhdmFpbGFibGVSdW50aW1lTG9jYWxlcy5sZW5ndGg7XHJcbiAgICAgIGxvY2FsZVByb3BlcnR5LnZhbHVlID0gYXZhaWxhYmxlUnVudGltZUxvY2FsZXNbIG5leHRJbmRleCBdO1xyXG5cclxuICAgICAgLy8gSW5kaWNhdGUgdGhlIG5ldyBsb2NhbGUgb24gdGhlIGNvbnNvbGVcclxuICAgICAgY29uc29sZS5sb2coIGxvY2FsZVByb3BlcnR5LnZhbHVlICk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmICggZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50Lm1ldGFLZXkgJiYgIWV2ZW50LmFsdEtleSApIHtcclxuICAgICAgaWYgKCBLZXlib2FyZFV0aWxzLmlzS2V5RXZlbnQoIGV2ZW50LCBGT1JXQVJEX0tFWSApICkge1xyXG4gICAgICAgIGJ1bXAoICsxICk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAoIEtleWJvYXJkVXRpbHMuaXNLZXlFdmVudCggZXZlbnQsIEJBQ0tXQVJEX0tFWSApICkge1xyXG4gICAgICAgIGJ1bXAoIC0xICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9ICk7XHJcbn1cclxuXHJcbmpvaXN0LnJlZ2lzdGVyKCAnbG9jYWxlUHJvcGVydHknLCBsb2NhbGVQcm9wZXJ0eSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbG9jYWxlUHJvcGVydHk7Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU9BLFFBQVEsTUFBTSw4QkFBOEI7QUFFbkQsT0FBT0MsV0FBVyxNQUFNLDRDQUE0QztBQUNwRSxTQUFTQyxxQkFBcUIsRUFBRUMsYUFBYSxRQUFRLGdDQUFnQztBQUNyRixPQUFPQyxNQUFNLE1BQU0sOEJBQThCO0FB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