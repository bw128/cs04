// Copyright 2013-2024, University of Colorado Boulder

/**
 * Screen view for the Ohm's Law simulation
 *
 * @author Vasily Shakhov (Mlearner)
 * @author Anton Ulyanov (Mlearner)
 */

import DerivedProperty from '../../../../axon/js/DerivedProperty.js';
import ScreenView from '../../../../joist/js/ScreenView.js';
import ResetAllButton from '../../../../scenery-phet/js/buttons/ResetAllButton.js';
import DiscreteSoundGenerator from '../../../../tambo/js/sound-generators/DiscreteSoundGenerator.js';
import soundManager from '../../../../tambo/js/soundManager.js';
import click_mp3 from '../../../../tambo/sounds/click_mp3.js';
import ohmsLaw from '../../ohmsLaw.js';
import OhmsLawConstants from '../OhmsLawConstants.js';
import ControlPanel from './ControlPanel.js';
import CurrentSoundGenerator from './CurrentSoundGenerator.js';
import FormulaNode from './FormulaNode.js';
import OhmsLawDescriber from './OhmsLawDescriber.js';
import OhmsLawScreenSummaryNode from './OhmsLawScreenSummaryNode.js';
import UnitsRadioButtonContainer from './UnitsRadioButtonContainer.js';
import WireBox from './WireBox.js';

// constants
const SLIDER_CLICK_LEVEL = 0.25;
class OhmsLawScreenView extends ScreenView {
  /**
   * @param {OhmsLawModel} model
   * @param {Tandem} tandem
   */
  constructor(model, tandem) {
    const ohmsLawDescriber = new OhmsLawDescriber(model);
    super({
      tandem: tandem,
      screenSummaryContent: new OhmsLawScreenSummaryNode(model, ohmsLawDescriber)
    });

    // Node of ohm's law equation. Layout is hardwired, see FormulaNode.
    const formulaNode = new FormulaNode(model, {
      pickable: false,
      tandem: tandem.createTandem('formulaNode')
    });

    // Circuit node with readout node
    const wireBox = new WireBox(model, ohmsLawDescriber, {
      pickable: false,
      tandem: tandem.createTandem('wireBox')
    });

    // create the control panel with sliders
    const controlPanel = new ControlPanel(model, ohmsLawDescriber, {
      tandem: tandem.createTandem('controlPanel')
    });

    // sound generators for voltage and resistance
    const resetNotInProgress = DerivedProperty.not(ResetAllButton.isResettingAllProperty);
    soundManager.addSoundGenerator(new DiscreteSoundGenerator(model.voltageProperty, OhmsLawConstants.VOLTAGE_RANGE, {
      sound: click_mp3,
      numBins: 6,
      enableControlProperties: [resetNotInProgress],
      initialOutputLevel: SLIDER_CLICK_LEVEL,
      alwaysPlayOnChangesProperty: controlPanel.sliderBeingDraggedByKeyboardProperty
    }));
    soundManager.addSoundGenerator(new DiscreteSoundGenerator(model.resistanceProperty, OhmsLawConstants.RESISTANCE_RANGE, {
      sound: click_mp3,
      numBins: 6,
      enableControlProperties: [resetNotInProgress],
      initialOutputLevel: SLIDER_CLICK_LEVEL,
      alwaysPlayOnChangesProperty: controlPanel.sliderBeingDraggedByKeyboardProperty
    }));

    // sound generator for current
    this.currentSoundGenerator = new CurrentSoundGenerator(model.currentProperty, {
      initialOutputLevel: 0.4
    });
    soundManager.addSoundGenerator(this.currentSoundGenerator);
    const unitsRadioButtonContainer = new UnitsRadioButtonContainer(model.currentUnitsProperty, {
      tandem: tandem
    });

    // add the reset button
    const resetAllButton = new ResetAllButton({
      radius: 28,
      listener: () => {
        model.reset();
        this.currentSoundGenerator.reset();
      },
      tandem: tandem.createTandem('resetAllButton')
    });

    // children
    this.pdomPlayAreaNode.addChild(formulaNode);
    this.pdomPlayAreaNode.addChild(wireBox);
    this.pdomPlayAreaNode.addChild(controlPanel);
    this.pdomControlAreaNode.addChild(unitsRadioButtonContainer);
    this.pdomControlAreaNode.addChild(resetAllButton);

    // layout for the screen
    formulaNode.centerY = this.layoutBounds.bottom / 4.75;
    wireBox.centerX = formulaNode.centerX;
    wireBox.bottom = this.layoutBounds.bottom - 30; // empirically determined

    controlPanel.right = this.layoutBounds.width - 50; // empirically determined
    controlPanel.top = this.layoutBounds.top + 20;
    // controlPanel.centerY = this.layoutBounds.centerY - resetAllButton.height / 2;
    resetAllButton.right = controlPanel.right;
    resetAllButton.bottom = this.layoutBounds.bottom - 20;

    // 4 is empirically spacing to better align the top of the readout with the top of the radio button heading.
    unitsRadioButtonContainer.centerY = wireBox.centerY + 4;
    unitsRadioButtonContainer.left = controlPanel.left;
  }

  // @public
  step(dt) {
    this.currentSoundGenerator.step(dt);
  }
}
ohmsLaw.register('OhmsLawScreenView', OhmsLawScreenView);
export default OhmsLawScreenView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJEZXJpdmVkUHJvcGVydHkiLCJTY3JlZW5WaWV3IiwiUmVzZXRBbGxCdXR0b24iLCJEaXNjcmV0ZVNvdW5kR2VuZXJhdG9yIiwic291bmRNYW5hZ2VyIiwiY2xpY2tfbXAzIiwib2htc0xhdyIsIk9obXNMYXdDb25zdGFudHMiLCJDb250cm9sUGFuZWwiLCJDdXJyZW50U291bmRHZW5lcmF0b3IiLCJGb3JtdWxhTm9kZSIsIk9obXNMYXdEZXNjcmliZXIiLCJPaG1zTGF3U2NyZWVuU3VtbWFyeU5vZGUiLCJVbml0c1JhZGlvQnV0dG9uQ29udGFpbmVyIiwiV2lyZUJveCIsIlNMSURFUl9DTElDS19MRVZFTCIsIk9obXNMYXdTY3JlZW5WaWV3IiwiY29uc3RydWN0b3IiLCJtb2RlbCIsInRhbmRlbSIsIm9obXNMYXdEZXNjcmliZXIiLCJzY3JlZW5TdW1tYXJ5Q29udGVudCIsImZvcm11bGFOb2RlIiwicGlja2FibGUiLCJjcmVhdGVUYW5kZW0iLCJ3aXJlQm94IiwiY29udHJvbFBhbmVsIiwicmVzZXROb3RJblByb2dyZXNzIiwibm90IiwiaXNSZXNldHRpbmdBbGxQcm9wZXJ0eSIsImFkZFNvdW5kR2VuZXJhdG9yIiwidm9sdGFnZVByb3BlcnR5IiwiVk9MVEFHRV9SQU5HRSIsInNvdW5kIiwibnVtQmlucyIsImVuYWJsZUNvbnRyb2xQcm9wZXJ0aWVzIiwiaW5pdGlhbE91dHB1dExldmVsIiwiYWx3YXlzUGxheU9uQ2hhbmdlc1Byb3BlcnR5Iiwic2xpZGVyQmVpbmdEcmFnZ2VkQnlLZXlib2FyZFByb3BlcnR5IiwicmVzaXN0YW5jZVByb3BlcnR5IiwiUkVTSVNUQU5DRV9SQU5HRSIsImN1cnJlbnRTb3VuZEdlbmVyYXRvciIsImN1cnJlbnRQcm9wZXJ0eSIsInVuaXRzUmFkaW9CdXR0b25Db250YWluZXIiLCJjdXJyZW50VW5pdHNQcm9wZXJ0eSIsInJlc2V0QWxsQnV0dG9uIiwicmFkaXVzIiwibGlzdGVuZXIiLCJyZXNldCIsInBkb21QbGF5QXJlYU5vZGUiLCJhZGRDaGlsZCIsInBkb21Db250cm9sQXJlYU5vZGUiLCJjZW50ZXJZIiwibGF5b3V0Qm91bmRzIiwiYm90dG9tIiwiY2VudGVyWCIsInJpZ2h0Iiwid2lkdGgiLCJ0b3AiLCJsZWZ0Iiwic3RlcCIsImR0IiwicmVnaXN0ZXIiXSwic291cmNlcyI6WyJPaG1zTGF3U2NyZWVuVmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxMy0yMDI0LCBVbml2ZXJzaXR5IG9mIENvbG9yYWRvIEJvdWxkZXJcclxuXHJcbi8qKlxyXG4gKiBTY3JlZW4gdmlldyBmb3IgdGhlIE9obSdzIExhdyBzaW11bGF0aW9uXHJcbiAqXHJcbiAqIEBhdXRob3IgVmFzaWx5IFNoYWtob3YgKE1sZWFybmVyKVxyXG4gKiBAYXV0aG9yIEFudG9uIFVseWFub3YgKE1sZWFybmVyKVxyXG4gKi9cclxuXHJcbmltcG9ydCBEZXJpdmVkUHJvcGVydHkgZnJvbSAnLi4vLi4vLi4vLi4vYXhvbi9qcy9EZXJpdmVkUHJvcGVydHkuanMnO1xyXG5pbXBvcnQgU2NyZWVuVmlldyBmcm9tICcuLi8uLi8uLi8uLi9qb2lzdC9qcy9TY3JlZW5WaWV3LmpzJztcclxuaW1wb3J0IFJlc2V0QWxsQnV0dG9uIGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lcnktcGhldC9qcy9idXR0b25zL1Jlc2V0QWxsQnV0dG9uLmpzJztcclxuaW1wb3J0IERpc2NyZXRlU291bmRHZW5lcmF0b3IgZnJvbSAnLi4vLi4vLi4vLi4vdGFtYm8vanMvc291bmQtZ2VuZXJhdG9ycy9EaXNjcmV0ZVNvdW5kR2VuZXJhdG9yLmpzJztcclxuaW1wb3J0IHNvdW5kTWFuYWdlciBmcm9tICcuLi8uLi8uLi8uLi90YW1iby9qcy9zb3VuZE1hbmFnZXIuanMnO1xyXG5pbXBvcnQgY2xpY2tfbXAzIGZyb20gJy4uLy4uLy4uLy4uL3RhbWJvL3NvdW5kcy9jbGlja19tcDMuanMnO1xyXG5pbXBvcnQgb2htc0xhdyBmcm9tICcuLi8uLi9vaG1zTGF3LmpzJztcclxuaW1wb3J0IE9obXNMYXdDb25zdGFudHMgZnJvbSAnLi4vT2htc0xhd0NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBDb250cm9sUGFuZWwgZnJvbSAnLi9Db250cm9sUGFuZWwuanMnO1xyXG5pbXBvcnQgQ3VycmVudFNvdW5kR2VuZXJhdG9yIGZyb20gJy4vQ3VycmVudFNvdW5kR2VuZXJhdG9yLmpzJztcclxuaW1wb3J0IEZvcm11bGFOb2RlIGZyb20gJy4vRm9ybXVsYU5vZGUuanMnO1xyXG5pbXBvcnQgT2htc0xhd0Rlc2NyaWJlciBmcm9tICcuL09obXNMYXdEZXNjcmliZXIuanMnO1xyXG5pbXBvcnQgT2htc0xhd1NjcmVlblN1bW1hcnlOb2RlIGZyb20gJy4vT2htc0xhd1NjcmVlblN1bW1hcnlOb2RlLmpzJztcclxuaW1wb3J0IFVuaXRzUmFkaW9CdXR0b25Db250YWluZXIgZnJvbSAnLi9Vbml0c1JhZGlvQnV0dG9uQ29udGFpbmVyLmpzJztcclxuaW1wb3J0IFdpcmVCb3ggZnJvbSAnLi9XaXJlQm94LmpzJztcclxuXHJcbi8vIGNvbnN0YW50c1xyXG5jb25zdCBTTElERVJfQ0xJQ0tfTEVWRUwgPSAwLjI1O1xyXG5cclxuY2xhc3MgT2htc0xhd1NjcmVlblZpZXcgZXh0ZW5kcyBTY3JlZW5WaWV3IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtPaG1zTGF3TW9kZWx9IG1vZGVsXHJcbiAgICogQHBhcmFtIHtUYW5kZW19IHRhbmRlbVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKCBtb2RlbCwgdGFuZGVtICkge1xyXG5cclxuICAgIGNvbnN0IG9obXNMYXdEZXNjcmliZXIgPSBuZXcgT2htc0xhd0Rlc2NyaWJlciggbW9kZWwgKTtcclxuXHJcbiAgICBzdXBlcigge1xyXG4gICAgICB0YW5kZW06IHRhbmRlbSxcclxuICAgICAgc2NyZWVuU3VtbWFyeUNvbnRlbnQ6IG5ldyBPaG1zTGF3U2NyZWVuU3VtbWFyeU5vZGUoIG1vZGVsLCBvaG1zTGF3RGVzY3JpYmVyIClcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBOb2RlIG9mIG9obSdzIGxhdyBlcXVhdGlvbi4gTGF5b3V0IGlzIGhhcmR3aXJlZCwgc2VlIEZvcm11bGFOb2RlLlxyXG4gICAgY29uc3QgZm9ybXVsYU5vZGUgPSBuZXcgRm9ybXVsYU5vZGUoIG1vZGVsLCB7XHJcbiAgICAgIHBpY2thYmxlOiBmYWxzZSxcclxuICAgICAgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnZm9ybXVsYU5vZGUnIClcclxuICAgIH0gKTtcclxuXHJcbiAgICAvLyBDaXJjdWl0IG5vZGUgd2l0aCByZWFkb3V0IG5vZGVcclxuICAgIGNvbnN0IHdpcmVCb3ggPSBuZXcgV2lyZUJveCggbW9kZWwsIG9obXNMYXdEZXNjcmliZXIsIHtcclxuICAgICAgcGlja2FibGU6IGZhbHNlLFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICd3aXJlQm94JyApXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gY3JlYXRlIHRoZSBjb250cm9sIHBhbmVsIHdpdGggc2xpZGVyc1xyXG4gICAgY29uc3QgY29udHJvbFBhbmVsID0gbmV3IENvbnRyb2xQYW5lbCggbW9kZWwsIG9obXNMYXdEZXNjcmliZXIsIHsgdGFuZGVtOiB0YW5kZW0uY3JlYXRlVGFuZGVtKCAnY29udHJvbFBhbmVsJyApIH0gKTtcclxuXHJcbiAgICAvLyBzb3VuZCBnZW5lcmF0b3JzIGZvciB2b2x0YWdlIGFuZCByZXNpc3RhbmNlXHJcbiAgICBjb25zdCByZXNldE5vdEluUHJvZ3Jlc3MgPSBEZXJpdmVkUHJvcGVydHkubm90KCBSZXNldEFsbEJ1dHRvbi5pc1Jlc2V0dGluZ0FsbFByb3BlcnR5ICk7XHJcbiAgICBzb3VuZE1hbmFnZXIuYWRkU291bmRHZW5lcmF0b3IoIG5ldyBEaXNjcmV0ZVNvdW5kR2VuZXJhdG9yKFxyXG4gICAgICBtb2RlbC52b2x0YWdlUHJvcGVydHksXHJcbiAgICAgIE9obXNMYXdDb25zdGFudHMuVk9MVEFHRV9SQU5HRSxcclxuICAgICAge1xyXG4gICAgICAgIHNvdW5kOiBjbGlja19tcDMsXHJcbiAgICAgICAgbnVtQmluczogNixcclxuICAgICAgICBlbmFibGVDb250cm9sUHJvcGVydGllczogWyByZXNldE5vdEluUHJvZ3Jlc3MgXSxcclxuICAgICAgICBpbml0aWFsT3V0cHV0TGV2ZWw6IFNMSURFUl9DTElDS19MRVZFTCxcclxuICAgICAgICBhbHdheXNQbGF5T25DaGFuZ2VzUHJvcGVydHk6IGNvbnRyb2xQYW5lbC5zbGlkZXJCZWluZ0RyYWdnZWRCeUtleWJvYXJkUHJvcGVydHlcclxuICAgICAgfVxyXG4gICAgKSApO1xyXG4gICAgc291bmRNYW5hZ2VyLmFkZFNvdW5kR2VuZXJhdG9yKCBuZXcgRGlzY3JldGVTb3VuZEdlbmVyYXRvcihcclxuICAgICAgbW9kZWwucmVzaXN0YW5jZVByb3BlcnR5LFxyXG4gICAgICBPaG1zTGF3Q29uc3RhbnRzLlJFU0lTVEFOQ0VfUkFOR0UsXHJcbiAgICAgIHtcclxuICAgICAgICBzb3VuZDogY2xpY2tfbXAzLFxyXG4gICAgICAgIG51bUJpbnM6IDYsXHJcbiAgICAgICAgZW5hYmxlQ29udHJvbFByb3BlcnRpZXM6IFsgcmVzZXROb3RJblByb2dyZXNzIF0sXHJcbiAgICAgICAgaW5pdGlhbE91dHB1dExldmVsOiBTTElERVJfQ0xJQ0tfTEVWRUwsXHJcbiAgICAgICAgYWx3YXlzUGxheU9uQ2hhbmdlc1Byb3BlcnR5OiBjb250cm9sUGFuZWwuc2xpZGVyQmVpbmdEcmFnZ2VkQnlLZXlib2FyZFByb3BlcnR5XHJcbiAgICAgIH1cclxuICAgICkgKTtcclxuXHJcbiAgICAvLyBzb3VuZCBnZW5lcmF0b3IgZm9yIGN1cnJlbnRcclxuICAgIHRoaXMuY3VycmVudFNvdW5kR2VuZXJhdG9yID0gbmV3IEN1cnJlbnRTb3VuZEdlbmVyYXRvciggbW9kZWwuY3VycmVudFByb3BlcnR5LCB7XHJcbiAgICAgIGluaXRpYWxPdXRwdXRMZXZlbDogMC40XHJcbiAgICB9ICk7XHJcbiAgICBzb3VuZE1hbmFnZXIuYWRkU291bmRHZW5lcmF0b3IoIHRoaXMuY3VycmVudFNvdW5kR2VuZXJhdG9yICk7XHJcbiAgICBjb25zdCB1bml0c1JhZGlvQnV0dG9uQ29udGFpbmVyID0gbmV3IFVuaXRzUmFkaW9CdXR0b25Db250YWluZXIoIG1vZGVsLmN1cnJlbnRVbml0c1Byb3BlcnR5LCB7XHJcbiAgICAgIHRhbmRlbTogdGFuZGVtXHJcbiAgICB9ICk7XHJcblxyXG4gICAgLy8gYWRkIHRoZSByZXNldCBidXR0b25cclxuICAgIGNvbnN0IHJlc2V0QWxsQnV0dG9uID0gbmV3IFJlc2V0QWxsQnV0dG9uKCB7XHJcbiAgICAgIHJhZGl1czogMjgsXHJcbiAgICAgIGxpc3RlbmVyOiAoKSA9PiB7XHJcbiAgICAgICAgbW9kZWwucmVzZXQoKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTb3VuZEdlbmVyYXRvci5yZXNldCgpO1xyXG4gICAgICB9LFxyXG4gICAgICB0YW5kZW06IHRhbmRlbS5jcmVhdGVUYW5kZW0oICdyZXNldEFsbEJ1dHRvbicgKVxyXG4gICAgfSApO1xyXG5cclxuICAgIC8vIGNoaWxkcmVuXHJcbiAgICB0aGlzLnBkb21QbGF5QXJlYU5vZGUuYWRkQ2hpbGQoIGZvcm11bGFOb2RlICk7XHJcbiAgICB0aGlzLnBkb21QbGF5QXJlYU5vZGUuYWRkQ2hpbGQoIHdpcmVCb3ggKTtcclxuICAgIHRoaXMucGRvbVBsYXlBcmVhTm9kZS5hZGRDaGlsZCggY29udHJvbFBhbmVsICk7XHJcbiAgICB0aGlzLnBkb21Db250cm9sQXJlYU5vZGUuYWRkQ2hpbGQoIHVuaXRzUmFkaW9CdXR0b25Db250YWluZXIgKTtcclxuICAgIHRoaXMucGRvbUNvbnRyb2xBcmVhTm9kZS5hZGRDaGlsZCggcmVzZXRBbGxCdXR0b24gKTtcclxuXHJcbiAgICAvLyBsYXlvdXQgZm9yIHRoZSBzY3JlZW5cclxuICAgIGZvcm11bGFOb2RlLmNlbnRlclkgPSB0aGlzLmxheW91dEJvdW5kcy5ib3R0b20gLyA0Ljc1O1xyXG5cclxuICAgIHdpcmVCb3guY2VudGVyWCA9IGZvcm11bGFOb2RlLmNlbnRlclg7XHJcbiAgICB3aXJlQm94LmJvdHRvbSA9IHRoaXMubGF5b3V0Qm91bmRzLmJvdHRvbSAtIDMwOyAvLyBlbXBpcmljYWxseSBkZXRlcm1pbmVkXHJcblxyXG4gICAgY29udHJvbFBhbmVsLnJpZ2h0ID0gdGhpcy5sYXlvdXRCb3VuZHMud2lkdGggLSA1MDsgLy8gZW1waXJpY2FsbHkgZGV0ZXJtaW5lZFxyXG4gICAgY29udHJvbFBhbmVsLnRvcCA9IHRoaXMubGF5b3V0Qm91bmRzLnRvcCArIDIwO1xyXG4gICAgLy8gY29udHJvbFBhbmVsLmNlbnRlclkgPSB0aGlzLmxheW91dEJvdW5kcy5jZW50ZXJZIC0gcmVzZXRBbGxCdXR0b24uaGVpZ2h0IC8gMjtcclxuICAgIHJlc2V0QWxsQnV0dG9uLnJpZ2h0ID0gY29udHJvbFBhbmVsLnJpZ2h0O1xyXG4gICAgcmVzZXRBbGxCdXR0b24uYm90dG9tID0gdGhpcy5sYXlvdXRCb3VuZHMuYm90dG9tIC0gMjA7XHJcblxyXG4gICAgLy8gNCBpcyBlbXBpcmljYWxseSBzcGFjaW5nIHRvIGJldHRlciBhbGlnbiB0aGUgdG9wIG9mIHRoZSByZWFkb3V0IHdpdGggdGhlIHRvcCBvZiB0aGUgcmFkaW8gYnV0dG9uIGhlYWRpbmcuXHJcbiAgICB1bml0c1JhZGlvQnV0dG9uQ29udGFpbmVyLmNlbnRlclkgPSB3aXJlQm94LmNlbnRlclkgKyA0O1xyXG4gICAgdW5pdHNSYWRpb0J1dHRvbkNvbnRhaW5lci5sZWZ0ID0gY29udHJvbFBhbmVsLmxlZnQ7XHJcbiAgfVxyXG5cclxuICAvLyBAcHVibGljXHJcbiAgc3RlcCggZHQgKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRTb3VuZEdlbmVyYXRvci5zdGVwKCBkdCApO1xyXG4gIH1cclxufVxyXG5cclxub2htc0xhdy5yZWdpc3RlciggJ09obXNMYXdTY3JlZW5WaWV3JywgT2htc0xhd1NjcmVlblZpZXcgKTtcclxuZXhwb3J0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